# 🔍 项目想法传递功能测试指南

## 🎯 测试目标
验证从LandingPage输入项目想法后，能够正确传递到ChatPage并显示在对话中。

## 📋 测试步骤

### 步骤1: 访问首页
1. 打开浏览器访问: http://localhost:5177/
2. 使用测试账号登录: `admin` / `admin123`

### 步骤2: 测试输入框功能
1. 在首页的"立即开始你的创业之旅"输入框中输入:
   ```
   我想做一个帮助宠物主人的社交APP
   ```
2. 点击"免费验证想法"按钮

### 步骤3: 验证NewSessionPage
1. 应该跳转到新建会话页面
2. 检查是否显示绿色提示框:"已为您预填充项目想法"
3. 检查输入框是否已预填充:"我想做一个帮助宠物主人的社交APP"

### 步骤4: 创建会话
1. 点击"开始需求澄清"按钮
2. 应该跳转到聊天页面

### 步骤5: 验证ChatPage
1. 检查聊天页面是否正常加载
2. 检查是否有初始的系统消息
3. 发送第一条消息，验证AI回复

## 🔧 故障排除

### 问题1: 输入框没有预填充
**可能原因**: 
- `location.state`没有正确传递
- `useEffect`没有正确执行

**解决方案**:
1. 检查浏览器控制台是否有错误
2. 确认LandingPage的navigate调用包含state
3. 确认NewSessionPage正确读取location.state

### 问题2: 点击按钮后页面空白
**可能原因**:
- 路由配置错误
- 组件加载失败

**解决方案**:
1. 检查浏览器控制台错误
2. 确认所有组件都正确导入
3. 检查网络请求是否正常

### 问题3: 聊天页面没有显示项目想法
**可能原因**:
- 会话创建时没有传递initial_idea
- ChatPage没有正确显示会话信息

**解决方案**:
1. 检查NewSessionPage的createSession调用
2. 确认ChatPage正确获取会话信息
3. 检查API响应数据

## 📊 预期结果

### ✅ 成功指标
- [ ] 首页输入框正常工作
- [ ] 点击按钮后正确跳转
- [ ] NewSessionPage显示预填充提示
- [ ] 输入框已预填充项目想法
- [ ] 成功创建会话并跳转到聊天页面
- [ ] 聊天页面正常显示会话信息

### ❌ 失败指标
- [ ] 页面加载错误
- [ ] 输入框没有预填充
- [ ] 按钮点击无响应
- [ ] 路由跳转失败
- [ ] 聊天页面空白

## 🐛 调试技巧

### 1. 浏览器开发者工具
```javascript
// 在控制台检查location.state
console.log('Location state:', window.location.state);

// 检查localStorage中的会话数据
console.log('Sessions:', localStorage.getItem('sessions'));
```

### 2. React DevTools
- 检查组件状态
- 查看props传递
- 监控组件生命周期

### 3. 网络请求监控
- 检查API调用是否成功
- 查看请求和响应数据
- 确认错误处理

## 📝 测试报告模板

```
测试日期: _____________
测试人员: _____________
测试环境: http://localhost:5177/

测试结果:
□ 通过  □ 失败

具体问题:
_________________________________
_________________________________

修复建议:
_________________________________
_________________________________
```

## 🚀 快速修复命令

如果发现问题，可以尝试以下命令重新启动：

```bash
# 重启前端服务
cd apps/web
npm run dev

# 检查端口占用
lsof -ti:5177

# 清除浏览器缓存
# 在浏览器中按 Ctrl+Shift+R (Windows) 或 Cmd+Shift+R (Mac)
```

---

**💡 提示**: 如果测试过程中遇到任何问题，请记录具体的错误信息和操作步骤，这将有助于快速定位和解决问题。 